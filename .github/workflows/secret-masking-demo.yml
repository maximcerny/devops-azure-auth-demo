name: Secret Masking Demo

on:
  workflow_dispatch:

jobs:
  demo-masking:
    runs-on: ubuntu-latest
    steps:
      - name: Print secret directly (will be masked)
        run: |
          echo "Attempting to print secret directly:"
          echo "${{ secrets.AZURE_CLIENT_ID }}"
          echo "As you can see, GitHub replaced it with ***"

      - name: Print secret with spaces (bypass masking)
        run: |
          echo "Now printing with spaces between characters:"
          echo "${{ secrets.AZURE_CLIENT_ID }}" | sed 's/./& /g'
          echo ""
          echo "WARNING: This is why you should NEVER echo secrets in workflows!"
